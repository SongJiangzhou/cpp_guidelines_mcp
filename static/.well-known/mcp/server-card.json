{
  "serverInfo": {
    "name": "C++ Style Guide MCP",
    "version": "0.1.0",
    "description": "Enforce consistent C++ style and best practices across your codebase. Analyze naming conventions, memory safety, and const correctness, and get actionable modernization suggestions up to C++23."
  },
  "iconUrl": "https://cpp-style-guide-mcp.fly.dev/icon.svg",
  "documentationUrl": "https://github.com/SongJiangzhou/cpp_guidelines_mcp",
  "authentication": {
    "type": "none"
  },
  "tools": [
    {
      "name": "check_naming",
      "description": "Check whether a C++ identifier follows naming conventions. Validates variables, constants, functions, classes, namespaces, member variables, template parameters, and file names against established C++ style guidelines. Returns whether the identifier is valid, a detailed explanation, and suggested alternatives if it violates the rules.",
      "annotations": {
        "readOnlyHint": true,
        "destructiveHint": false,
        "idempotentHint": true,
        "openWorldHint": false
      },
      "inputSchema": {
        "type": "object",
        "properties": {
          "identifier": {
            "type": "string",
            "description": "The C++ identifier to check (e.g. 'myVariable', 'MyClass', 'MAX_SIZE')"
          },
          "category": {
            "type": "string",
            "enum": ["variable", "constant", "function", "class", "namespace", "member_variable", "template_parameter", "file_naming"],
            "description": "The category of the identifier"
          }
        },
        "required": ["identifier", "category"]
      }
    },
    {
      "name": "check_include_guard",
      "description": "Check whether a C++ header file has correct include guards or #pragma once directives. Detects missing guards, malformed macro names, mismatched #endif comments, and suggests correctly formatted guard macros based on the file path.",
      "annotations": {
        "readOnlyHint": true,
        "destructiveHint": false,
        "idempotentHint": true,
        "openWorldHint": false
      },
      "inputSchema": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "The full content of the C++ header file to check"
          },
          "file_path": {
            "type": "string",
            "description": "Optional file path used to generate the recommended guard macro name (e.g. 'include/mylib/utils.h')"
          }
        },
        "required": ["code"]
      }
    },
    {
      "name": "analyze_memory_safety",
      "description": "Analyze C++ code for memory safety issues including memory leaks, dangling pointers, double-free errors, use of raw owning pointers, missing RAII patterns, and unsafe array operations. Returns a detailed report with line-level findings and recommendations to use modern C++ alternatives like smart pointers.",
      "annotations": {
        "readOnlyHint": true,
        "destructiveHint": false,
        "idempotentHint": true,
        "openWorldHint": false
      },
      "inputSchema": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "The C++ source code to analyze for memory safety issues"
          }
        },
        "required": ["code"]
      }
    },
    {
      "name": "suggest_modern_cpp",
      "description": "Suggest how to modernize C++ code to use features from a target standard (C++11 through C++23). Identifies outdated patterns such as raw loops replaceable by range-for, C-style casts, manual memory management, pre-C++11 type aliases, and suggests concrete rewrites using modern idioms like auto, structured bindings, std::optional, concepts, and ranges.",
      "annotations": {
        "readOnlyHint": true,
        "destructiveHint": false,
        "idempotentHint": true,
        "openWorldHint": false
      },
      "inputSchema": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "The C++ source code to modernize"
          },
          "target_standard": {
            "type": "string",
            "enum": ["cpp11", "cpp14", "cpp17", "cpp20", "cpp23"],
            "description": "Target C++ standard to migrate toward (default: cpp17)"
          }
        },
        "required": ["code"]
      }
    },
    {
      "name": "check_const_correctness",
      "description": "Check C++ code for const correctness issues. Identifies member functions that do not modify state but are missing the const qualifier, non-const references where const references would suffice, and variables that are never modified but not declared const. Returns a report with specific locations and suggested fixes.",
      "annotations": {
        "readOnlyHint": true,
        "destructiveHint": false,
        "idempotentHint": true,
        "openWorldHint": false
      },
      "inputSchema": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "The C++ source code to check for const correctness"
          }
        },
        "required": ["code"]
      }
    }
  ],
  "resources": [
    {
      "uri": "cpp-style://naming/{category}",
      "name": "C++ Naming Conventions",
      "description": "Reference documentation for C++ naming conventions by category: variable, constant, function, class, namespace, member_variable, template_parameter, file_naming, or all."
    },
    {
      "uri": "cpp-style://best-practices/{topic}",
      "name": "C++ Best Practices",
      "description": "C++ best practice guides by topic: memory, exceptions, templates, concurrency, performance, modern_cpp, or all."
    },
    {
      "uri": "cpp-style://standard/{version}",
      "name": "C++ Standard Features",
      "description": "Feature documentation for C++ standards: cpp11, cpp14, cpp17, cpp20, cpp23, or all."
    },
    {
      "uri": "cpp-style://examples/{pattern}",
      "name": "C++ Design Pattern Examples",
      "description": "C++ design pattern and idiom examples: singleton, factory, observer, raii, pimpl, strategy, or all."
    }
  ],
  "prompts": [
    {
      "name": "code_review",
      "description": "Generate a C++ code review prompt template focused on a specific aspect: general, performance, safety, readability, or modern C++ features.",
      "arguments": [
        {
          "name": "focus",
          "description": "Review focus: general, performance, safety, readability, or modern",
          "required": false
        }
      ]
    },
    {
      "name": "refactor_suggestion",
      "description": "Generate a C++ refactoring suggestion prompt targeting a specific C++ standard from cpp11 to cpp23.",
      "arguments": [
        {
          "name": "target_standard",
          "description": "Target C++ standard: cpp11, cpp14, cpp17, cpp20, or cpp23",
          "required": false
        }
      ]
    }
  ]
}
